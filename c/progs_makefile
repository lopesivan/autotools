AC_PROG_LN_S    # faz LN_S="ln -s"
AC_PROG_SED     # faz SED=/bin/sed
AC_PROG_MKDIR_P # faz MKDIR_P="mkdir -p"

dnl Verifico se o programa existe no PATH, se existe carrego a variável de
dnl mesmo nome mas em maiúscula com o nome do programa

AC_PATH_PROG(LATEX,     latex,     "")
AC_PATH_PROG(PDFLATEX,  pdflatex,  "")
AC_PATH_PROG(PS2PDF,    ps2pdf,    "")
AC_PATH_PROG(MAKEINDEX, makeindex, "")
AC_PATH_PROG(DVIPS,     dvips,     "")

dnl se as variáveia abaixo não forem vazias eu crio a variável
dnl `CONFIG_TEX' do Makefile.am.
AM_CONDITIONAL(CONFIG_TEX, [
  test ! \( -z "$LATEX"     -o \
            -z "$MAKEINDEX" -o \
            -z "$PDFLATEX"  -o \
            -z "$DVIPS" \)])

AS_IF([test -z "$LATEX"    -o \
            -z "$PDFLATEX" -o \
            -z "$DVIPS"    -o \
            -z "$PS2PDF"],
  [AC_MSG_WARN([Some documentation formats may not build, because latex/pdflatex/dvips is missing.])])

AC_ARG_VAR([JAVA_HOME],
           [Path to the root of the Java environment])



if CONFIG_TEX

include latex.mk

teste:
	@echo $(LN_S)
	@echo $(SED)
	@echo $(MKDIR_P)
	@echo == $(HAS_TP) ==
	@echo == $(CONF_XDISP) ==
	@echo == $(III) ==
	@echo == $(UNITE_MODE) ==
	@echo == $(FFMPEG_CFLAGS) ==
	@echo == $(FFMPEG_LIBS) ==
	@echo == XXX $(XXX_CFLAGS) ==
	@echo == XXX $(XXX_LIBS) ==
	@echo == ZZZ $(ASYNC_EXEC) ==

CLEANFILES  = $(OUT)

endif
# END OF FILE
